/*! layer mobile-v2.0.0 Web弹层组件 LGPL License  http://layer.layui.com/mobile  By 贤心 */
!function(j){var p=document,f="querySelectorAll",h="getElementsByClassName",m=function(a){return p[f](a)},q={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:"scale"},g={extend:function(c){var a=JSON.parse(JSON.stringify(q));for(var i in c){a[i]=c[i]}return a},timer:{},end:{}};g.touch=function(c,a){c.addEventListener("click",function(i){a.call(this,i)},!1)};var b=0,d=["layui-m-layer"],k=function(c){var a=this;a.config=g.extend(c),a.view()};k.prototype.view=function(){var r=this,x=r.config,o=p.createElement("div");r.id=o.id=d[0]+b,o.setAttribute("class",d[0]+" "+d[0]+(x.type||0)),o.setAttribute("index",b);var a=function(){var c="object"==typeof x.title;return x.title?'<h3 style="'+(c?x.title[1]:"")+'">'+(c?x.title[0]:x.title)+"</h3>":""}(),w=function(){"string"==typeof x.btn&&(x.btn=[x.btn]);var l,c=(x.btn||[]).length;return 0!==c&&x.btn?(l='<span yes type="1">'+x.btn[0]+"</span>",2===c&&(l='<span no type="0">'+x.btn[1]+"</span>"+l),'<div class="layui-m-layerbtn">'+l+"</div>"):""}();if(x.fixed||(x.top=x.hasOwnProperty("top")?x.top:100,x.style=x.style||"",x.style+=" top:"+(p.body.scrollTop+x.top)+"px"),2===x.type&&(x.content='<i></i><i class="layui-m-layerload"></i><i></i><p>'+(x.content||"")+"</p>"),x.skin&&(x.anim="up"),"msg"===x.skin&&(x.shade=!1),o.innerHTML=(x.shade?"<div "+("string"==typeof x.shade?'style="'+x.shade+'"':"")+' class="layui-m-layershade"></div>':"")+'<div class="layui-m-layermain" '+(x.fixed?"":'style="position:static;"')+'><div class="layui-m-layersection"><div class="layui-m-layerchild '+(x.skin?"layui-m-layer-"+x.skin+" ":"")+(x.className?x.className:"")+" "+(x.anim?"layui-m-anim-"+x.anim:"")+'" '+(x.style?'style="'+x.style+'"':"")+">"+a+'<div class="layui-m-layercont">'+x.content+"</div>"+w+"</div></div></div>",!x.type||2===x.type){var t=p[h](d[0]+x.type),v=t.length;v>=1&&layer.close(t[0].getAttribute("index"))}document.body.appendChild(o);var i=r.elem=m("#"+r.id)[0];x.success&&x.success(i),r.index=b++,r.action(x,i)},k.prototype.action=function(w,l){var z=this;w.time&&(g.timer[z.index]=setTimeout(function(){layer.close(z.index)},1000*w.time));var i=function(){var a=this.getAttribute("type");0==a?(w.no&&w.no(),layer.close(z.index)):w.yes?w.yes(z.index):layer.close(z.index)};if(w.btn){for(var u=l[h]("layui-m-layerbtn")[0].children,v=u.length,x=0;x<v;x++){g.touch(u[x],i)}}if(w.shade&&w.shadeClose){var y=l[h]("layui-m-layershade")[0];g.touch(y,function(){layer.close(z.index,w.end)})}w.end&&(g.end[z.index]=w.end)},j.layer={v:"2.0",index:b,open:function(c){var a=new k(c||{});return a.index},close:function(a){var c=m("#"+d[0]+a)[0];c&&(c.innerHTML="",p.body.removeChild(c),clearTimeout(g.timer[a]),delete g.timer[a],"function"==typeof g.end[a]&&g.end[a](),delete g.end[a])},closeAll:function(){for(var i=p[h](d[0]),l=0,c=i.length;l<c;l++){layer.close(0|i[0].getAttribute("index"))}}},"function"==typeof define?define(function(){return layer}):function(){var o=document.scripts,r=o[o.length-1],l=r.src,c=l.substring(0,l.lastIndexOf("/")+1);r.getAttribute("merge")||document.head.appendChild(function(){var a=p.createElement("link");return a.href=c+"need/layer.css?2.0",a.type="text/css",a.rel="styleSheet",a.id="layermcss",a}())}()}(window);