var App=function(){var w="/static/SuperUI/";var o="ui/img/";var m="plugins/";var a="ui/css/";var s=function(){var x=App.getViewPort().height-$(".main-footer").outerHeight()-$(".main-header").outerHeight()-$(".content-tabs").outerHeight();return x};var i=function(){var x=App.getViewPort().height-$(".main-footer").outerHeight()-$(".main-header").outerHeight()-$(".content-tabs").outerHeight();$(".tab_iframe").css({height:x});$(".tab_iframe").css({width:"100%"})};var j=function(){var x=document.documentElement;if(x.requestFullscreen){x.requestFullscreen()}else{if(x.mozRequestFullScreen){x.mozRequestFullScreen()}else{if(x.webkitRequestFullScreen){x.webkitRequestFullScreen()}else{if(x.msRequestFullscreen){x.msRequestFullscreen()}else{alert("当前浏览器不支持全屏！")}}}}};var r=function(){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}};var e=function(){if(!$().iCheck){return}$(".icheck").each(function(){var y=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey";var x=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";if(y.indexOf("_line")>-1||x.indexOf("_line")>-1){$(this).iCheck({checkboxClass:y,radioClass:x,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")})}else{$(this).iCheck({checkboxClass:y,radioClass:x})}})};var h=function(){if(!$().bootstrapSwitch){return}$(".make-switch").bootstrapSwitch()};var b=function(){if(!$().confirmation){return}$("[data-toggle=confirmation]").confirmation({container:"body",btnOkClass:"btn btn-sm btn-success",btnCancelClass:"btn btn-sm btn-danger"})};var g=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(x){App.scrollTo($(x.target))})};var l=function(){if(location.hash){var x=encodeURI(location.hash.substr(1));$('a[href="#'+x+'"]').parents(".tab-pane:hidden").each(function(){var y=$(this).attr("id");$('a[href="#'+y+'"]').click()});$('a[href="#'+x+'"]').click()}if($().tabdrop){$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'})}};var t=function(){$("body").on("hide.bs.modal",function(){if($(".modal:visible").size()>1&&$("html").hasClass("modal-open")===false){$("html").addClass("modal-open")}else{if($(".modal:visible").size()<=1){$("html").removeClass("modal-open")}}});$("body").on("show.bs.modal",".modal",function(){if($(this).hasClass("modal-scroll")){$("body").addClass("modal-open-noscroll")}});$("body").on("hide.bs.modal",".modal",function(){$("body").removeClass("modal-open-noscroll")});$("body").on("hidden.bs.modal",".modal:not(.modal-cached)",function(){$(this).removeData("bs.modal")})};var n=function(){$(".tooltips").tooltip();$(".portlet > .portlet-title .fullscreen").tooltip({container:"body",title:"Fullscreen"});$(".portlet > .portlet-title > .tools > .reload").tooltip({container:"body",title:"Reload"});$(".portlet > .portlet-title > .tools > .remove").tooltip({container:"body",title:"Remove"});$(".portlet > .portlet-title > .tools > .config").tooltip({container:"body",title:"Settings"});$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({container:"body",title:"Collapse/Expand"})};var v=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(x){x.stopPropagation()})};var q=function(){$("body").on("click",'[data-close="alert"]',function(x){$(this).parent(".alert").hide();$(this).closest(".note").hide();x.preventDefault()});$("body").on("click",'[data-close="note"]',function(x){$(this).closest(".note").hide();x.preventDefault()});$("body").on("click",'[data-remove="note"]',function(x){$(this).closest(".note").remove();x.preventDefault()})};var c=function(){$('[data-hover="dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover();$(this).addClass("hover-initialized")})};var d=function(){var z=!!navigator.userAgent.match(/MSIE 8.0/);var y=!!navigator.userAgent.match(/MSIE 9.0/);var x=!!navigator.userAgent.match(/MSIE 10.0/);if(z||y){$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var A=$(this);if(A.val()===""&&A.attr("placeholder")!==""){A.addClass("placeholder").val(A.attr("placeholder"))}A.focus(function(){if(A.val()==A.attr("placeholder")){A.val("")}});A.blur(function(){if(A.val()===""||A.val()==A.attr("placeholder")){A.val(A.attr("placeholder"))}})})}};var k;var p=function(){$(".popovers").popover();$(document).on("click.bs.popover.data-api",function(x){if(k){k.popover("hide")}})};var f=function(){App.initSlimScroll(".scroller")};var u=function(){fullScreenClickCount=0;$(".fullscreen").bind("click",function(){if(fullScreenClickCount%2===0){j()}else{r()}fullScreenClickCount++})};return{init:function(){e();h();f();q();v();l();n();p();g();t();b();d();u()},initSlimScroll:function(x){$(x).each(function(){if($(this).attr("data-initialized")){return}var y;if($(this).attr("data-height")){y=$(this).attr("data-height")}else{y=$(this).css("height")}$(this).slimScroll({allowPageScroll:true,size:"7px",color:($(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb"),wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv"),railColor:($(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea"),position:isRTL?"left":"right",height:y,alwaysVisible:($(this).attr("data-always-visible")=="1"?true:false),railVisible:($(this).attr("data-rail-visible")=="1"?true:false),disableFadeOut:true});$(this).attr("data-initialized","1")})},destroySlimScroll:function(x){$(x).each(function(){if($(this).attr("data-initialized")==="1"){$(this).removeAttr("data-initialized");$(this).removeAttr("style");var z={};if($(this).attr("data-handle-color")){z["data-handle-color"]=$(this).attr("data-handle-color")}if($(this).attr("data-wrapper-class")){z["data-wrapper-class"]=$(this).attr("data-wrapper-class")}if($(this).attr("data-rail-color")){z["data-rail-color"]=$(this).attr("data-rail-color")}if($(this).attr("data-always-visible")){z["data-always-visible"]=$(this).attr("data-always-visible")}if($(this).attr("data-rail-visible")){z["data-rail-visible"]=$(this).attr("data-rail-visible")}$(this).slimScroll({wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv"),destroy:true});var y=$(this);$.each(z,function(A,B){y.attr(A,B)})}})},getIframeLayoutHeight:function(){return s()},requestFullScreen:function(){return j()},handleIframeContent:function(){return i()},handleSidebarAjaxContent:function(){jQuery(".sidebar-menu").on("click"," li > a.ajaxify",function(y){y.preventDefault();var x=$(this).attr("href");var z=$("#tab-page-content");App.startPageLoading({message:"加载中..."});$.get(x,{},function(A){z.html(A);App.stopPageLoading()})})},fixIframeCotent:function(){setInterval(function(){i()},200);return},blockUI:function(x){x=$.extend(true,{},x);var y="";if(x.animate){y='<div class="loading-message '+(x.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>'}else{if(x.iconOnly){y='<div class="loading-message '+(x.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-blue.gif" align=""></div>'}else{if(x.textOnly){y='<div class="loading-message '+(x.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(x.message?x.message:"LOADING...")+"</span></div>"}else{y='<div class="loading-message '+(x.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-blue.gif" align=""><span>&nbsp;&nbsp;'+(x.message?x.message:"LOADING...")+"</span></div>"}}}if(x.target){var z=$(x.target);if(z.height()<=($(window).height())){x.cenrerY=true}z.block({message:y,baseZ:x.zIndex?x.zIndex:1000,centerY:x.cenrerY!==undefined?x.cenrerY:false,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:x.overlayColor?x.overlayColor:"#555",opacity:x.boxed?0.05:0.1,cursor:"wait"}})}else{$.blockUI({message:y,baseZ:x.zIndex?x.zIndex:1000,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:x.overlayColor?x.overlayColor:"#555",opacity:x.boxed?0.05:0.1,cursor:"wait"}})}},unblockUI:function(x){if(x){$(x).unblock({onUnblock:function(){$(x).css("position","");$(x).css("zoom","")}})}else{$.unblockUI()}},startPageLoading:function(x){if(x&&x.animate){$(".page-spinner-bar").remove();$("body").append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')}else{$(".page-loading").remove();$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-blue.gif"/>&nbsp;&nbsp;<span>'+(x&&x.message?x.message:"Loading...")+"</span></div>")}},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},getViewPort:function(){var y=window,x="inner";if(!("innerWidth" in window)){x="client";y=document.documentElement||document.body}return{width:y[x+"Width"],height:y[x+"Height"]}},getbasePath:function(){return w},setbasePath:function(x){w=x},setGlobalImgPath:function(x){o=x},getGlobalImgPath:function(){return w+o},setGlobalPluginsPath:function(x){m=x},getGlobalPluginsPath:function(){return w+m},getGlobalCssPath:function(){return w+a}}}();jQuery(document).ready(function(){App.init()});(function(){function a(c,d){d=d||{bubbles:false,cancelable:false,detail:undefined};var b=document.createEvent("CustomEvent");b.initCustomEvent(c,d.bubbles,d.cancelable,d.detail);return b}a.prototype=window.Event.prototype;window.CustomEvent=a})();